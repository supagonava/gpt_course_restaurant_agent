# р╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Фр╣Йр╕зр╕в Azure Form Recognizer

## р╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕гр╕░р╕Ър╕Ър╕гр╕▒р╕Ър╕нр╕нр╣Ар╕Фр╕нр╕гр╣Мр╕Ьр╣Ир╕▓р╕Щр╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╣Йр╕▓р╕Щр╕нр╕▓р╕лр╕▓р╕г

---

## ЁЯФД р╕Чр╕Ър╕Чр╕зр╕Щр╕гр╕░р╕Ър╕Ър╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ

### р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Чр╕╡р╣Ир╕бр╕╡р╕нр╕вр╕╣р╣И

-   р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ъ Line OA
-   р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕бр╕Щр╕╣р╕Ьр╣Ир╕▓р╕Щ SQLite
-   р╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╕нр╕нр╣Ар╕Фр╕нр╕гр╣Мр╕Фр╣Йр╕зр╕в OpenAI
-   р╕гр╕░р╕Ър╕Ър╕Хр╕░р╕Бр╕гр╣Йр╕▓р╕кр╕┤р╕Щр╕Др╣Йр╕▓
-   р╕Бр╕▓р╕гр╕нр╕▒р╕Юр╣Ар╕Фр╕Чр╕кр╕Цр╕▓р╕Щр╕░р╣Бр╕Ър╕Ър╣Ар╕гр╕╡р╕вр╕ер╣Др╕Чр╕бр╣М

---

```mermaid
sequenceDiagram
    participant U as User
    participant L as Line App
    participant W as Webhook
    participant F as Azure Functions
    participant AI as Azure OpenAI
    participant DB as SQLite DB
    participant T as AI Tools


    %% Restaurant Order Flow
    U->>L: Send Order Message
    L->>W: Trigger Webhook
    W->>F: Forward Message
    F->>AI: Process Message
    AI->>T: Tool Call (view_menu/add_cart/confirm)
    T->>DB: Query/Update Database
    DB-->>T: Return Data
    T-->>AI: Tool Response
    AI-->>F: Generate Reply
    F-->>L: Send Response
    L-->>U: Display Response
```

---

# р╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Фр╣Йр╕зр╕в Azure Form Regonizer (Integration to LineOA)

## ЁЯУС р╕Щр╕┤р╕вр╕▓р╕бр╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щ

Azure Form Recognizer р╕Др╕╖р╕нр╕Ър╕гр╕┤р╕Бр╕▓р╕г AI (Artificial Intelligence) р╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╣Ар╕Чр╕Др╣Вр╕Щр╣Вр╕ер╕вр╕╡ Machine Learning р╣Гр╕Щр╕Бр╕▓р╕гр╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣Мр╣Бр╕ер╕░р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Бр╣Ар╕нр╕Бр╕кр╕▓р╕г р╣Ар╕Ыр╣Зр╕Щр╕кр╣Ир╕зр╕Щр╕лр╕Щр╕╢р╣Ир╕Зр╕Вр╕нр╕Зр╕Ър╕гр╕┤р╕Бр╕▓р╕г Azure Cognitive Services

## ЁЯФН р╕Др╕зр╕▓р╕бр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕лр╕ер╕▒р╕Б

### 1. р╕Бр╕▓р╕гр╕нр╣Ир╕▓р╕Щр╣Бр╕ер╕░р╣Бр╕вр╕Бр╣Бр╕вр╕░р╕Вр╣Йр╕нр╕бр╕╣р╕е

-   OCR (Optical Character Recognition)
-   р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Ир╕▓р╕Бр╕гр╕╣р╕Ыр╕ар╕▓р╕Ю
-   р╣Бр╕вр╕Бр╣Бр╕вр╕░р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕нр╕Бр╕кр╕▓р╕г
-   р╣Ар╕Вр╣Йр╕▓р╣Гр╕Ир╕Др╕зр╕▓р╕бр╕кр╕▒р╕бр╕Юр╕▒р╕Щр╕Шр╣Мр╕Вр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е

### 2. р╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Чр╕╡р╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ъ

-   р╣Гр╕Ър╣Ар╕кр╕гр╣Зр╕И (Receipts)
-   р╣Гр╕Ър╣Бр╕Ир╣Йр╕Зр╕лр╕Щр╕╡р╣Й (Invoices)
-   р╕Щр╕▓р╕бр╕Ър╕▒р╕Хр╕г (Business Cards)
-   р╕Ър╕▒р╕Хр╕гр╕Ыр╕гр╕░р╕Ир╕│р╕Хр╕▒р╕з (ID Documents)
-   р╣Бр╕Ър╕Ър╕Яр╕нр╕гр╣Мр╕бр╕Хр╣Ир╕▓р╕Зр╣Ж (Custom Forms)

### 3. р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╣Бр╕Ър╕Ър╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

-   р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕е 24/7
-   р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Ыр╕гр╕┤р╕бр╕▓р╕Ур╕бр╕▓р╕Б
-   р╣Бр╕бр╣Ир╕Щр╕вр╕│р╕кр╕╣р╕З
-   р╕Чр╕│р╕Зр╕▓р╕Щр╣Бр╕Ър╕Ъ Real-time

## ЁЯМЯ р╕Чр╕╡р╣Ир╕бр╕▓р╕Вр╕нр╕З Azure Form Recognizer

### р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Щр╕│р╕бр╕▓р╕кр╕╣р╣Ир╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓

1. **р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕нр╕Бр╕кр╕▓р╕гр╣Бр╕Ър╕Ър╕Фр╕▒р╣Йр╕Зр╣Ар╕Фр╕┤р╕б**

    - р╣Гр╕Кр╣Йр╣Бр╕гр╕Зр╕Зр╕▓р╕Щр╕Др╕Щр╣Гр╕Щр╕Бр╕▓р╕гр╕Ыр╣Йр╕нр╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
    - р╣Ар╕кр╕╡р╕вр╣Ар╕зр╕ер╕▓р╣Бр╕ер╕░р╕Чр╕гр╕▒р╕Юр╕вр╕▓р╕Бр╕гр╕бр╕▓р╕Б
    - р╕бр╕╡р╣Вр╕нр╕Бр╕▓р╕кр╣Ар╕Бр╕┤р╕Фр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Фр╕кр╕╣р╕З
    - р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Ыр╕гр╕┤р╕бр╕▓р╕Ур╕Зр╕▓р╕Щр╕Ир╕│р╕Щр╕зр╕Щр╕бр╕▓р╕Б

2. **р╕Др╕зр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Чр╕▓р╕Зр╕Шр╕╕р╕гр╕Бр╕┤р╕И**
    - р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕гр╕░р╕Ър╕Ър╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕Чр╕╡р╣Ир╕бр╕╡р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Ю
    - р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕ер╕Фр╕Хр╣Йр╕Щр╕Чр╕╕р╕Щр╕Бр╕▓р╕гр╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Зр╕▓р╕Щ
    - р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕зр╕▓р╕бр╣Ар╕гр╣Зр╕зр╣Гр╕Щр╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕е
    - р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╣Бр╕бр╣Ир╕Щр╕вр╕│р╕кр╕╣р╕З

---

```mermaid
flowchart TB
    subgraph Traditional["р╕гр╕░р╕Ър╕Ър╕Фр╕▒р╣Йр╕Зр╣Ар╕Фр╕┤р╕б"]
        D1[р╣Ар╕нр╕Бр╕кр╕▓р╕г] -->|р╕кр╣Бр╕Бр╕Щ| S1[р╣Ар╕Бр╣Зр╕Ър╣Др╕Яр╕ер╣М]
        S1 -->|р╕кр╣Ир╕Зр╕Хр╣Ир╕н| H1[р╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕Ыр╣Йр╕нр╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е]
        H1 -->|р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ| V1[р╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ]
        V1 -->|р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б| DB1[(р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е)]
    end

    subgraph FormRecognizer["р╕гр╕░р╕Ър╕Ъ Form Recognizer"]
        D2[р╣Ар╕нр╕Бр╕кр╕▓р╕г] -->|р╕кр╣Бр╕Бр╕Щ/р╕Цр╣Ир╕▓р╕вр╕ар╕▓р╕Ю| FR[Form Recognizer]
        FR -->|р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕е AI| P2[р╣Бр╕вр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤]
        P2 -->|р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤| V2[р╕гр╕░р╕Ър╕Ър╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ]
        V2 -->|р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤| DB2[(р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е)]
    end

    %% р╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ъ
    H1 -->|4-8 р╕Кр╕б| T1[р╣Ар╕зр╕ер╕▓р╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г]
    FR -->|2-5 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡| T2[р╣Ар╕зр╕ер╕▓р╕Фр╕│р╣Ар╕Щр╕┤р╕Щр╕Бр╕▓р╕г]

    V1 -->|70-90%| A1[р╕Др╕зр╕▓р╕бр╣Бр╕бр╣Ир╕Щр╕вр╕│]
    V2 -->|95-99%| A2[р╕Др╕зр╕▓р╕бр╣Бр╕бр╣Ир╕Щр╕вр╕│]

    classDef traditional fill:#FFB6C1,stroke:#FF69B4
    classDef modern fill:#90EE90,stroke:#32CD32
    classDef metrics fill:#87CEEB,stroke:#4169E1

    class D1,S1,H1,V1,DB1 traditional
    class D2,FR,P2,V2,DB2 modern
    class T1,T2,A1,A2 metrics
```

## ЁЯТб р╕Др╕зр╕▓р╕бр╕кр╕│р╕Др╕▒р╕Нр╣Бр╕ер╕░р╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣М

### 1. р╕Фр╣Йр╕▓р╕Щр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Юр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ

-   **р╕Др╕зр╕▓р╕бр╣Ар╕гр╣Зр╕зр╣Гр╕Щр╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕е**

    -   р╕ер╕Фр╣Ар╕зр╕ер╕▓р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Ир╕▓р╕Бр╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕Зр╣Ар╕Ыр╣Зр╕Щр╕зр╕┤р╕Щр╕▓р╕Чр╕╡
    -   р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щр╕лр╕ер╕▓р╕вр╣Ар╕нр╕Бр╕кр╕▓р╕г
    -   р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Й 24/7 р╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕гр╕лр╕вр╕╕р╕Фр╕Юр╕▒р╕Б

-   **р╕Др╕зр╕▓р╕бр╣Бр╕бр╣Ир╕Щр╕вр╕│**
    -   р╣Гр╕Кр╣Й AI р╣Бр╕ер╕░ Machine Learning р╣Гр╕Щр╕Бр╕▓р╕гр╕нр╣Ир╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
    -   р╕ер╕Фр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Фр╕Ир╕▓р╕Бр╕Бр╕▓р╕гр╕Ыр╣Йр╕нр╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Фр╣Йр╕зр╕вр╕бр╕╖р╕н
    -   р╕бр╕╡р╕гр╕░р╕Ър╕Ър╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╕зр╕▓р╕бр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

### 2. р╕Фр╣Йр╕▓р╕Щр╕Шр╕╕р╕гр╕Бр╕┤р╕И

-   **р╕Бр╕▓р╕гр╕ер╕Фр╕Хр╣Йр╕Щр╕Чр╕╕р╕Щ**

    -   р╕ер╕Фр╕Др╣Ир╕▓р╣Гр╕Кр╣Йр╕Ир╣Ир╕▓р╕вр╕Фр╣Йр╕▓р╕Щр╕Ър╕╕р╕Др╕ер╕▓р╕Бр╕г
    -   р╕ер╕Фр╕Хр╣Йр╕Щр╕Чр╕╕р╕Щр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕нр╕Бр╕кр╕▓р╕г
    -   р╕Ыр╕гр╕░р╕лр╕вр╕▒р╕Фр╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╕Ир╕▒р╕Фр╣Ар╕Бр╣Зр╕Ър╣Ар╕нр╕Бр╕кр╕▓р╕г

-   **р╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Ю**
    -   р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕зр╕▓р╕бр╕гр╕зр╕Фр╣Ар╕гр╣Зр╕зр╣Гр╕Щр╕Бр╕гр╕░р╕Ър╕зр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ
    -   р╕ер╕Фр╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Чр╕╡р╣Ир╕Лр╣Йр╕│р╕Лр╣Йр╕нр╕Щ
    -   р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕зр╕▓р╕бр╕Юр╕╢р╕Зр╕Юр╕нр╣Гр╕Ир╕Вр╕нр╕Зр╕ер╕╣р╕Бр╕Др╣Йр╕▓

### 3. р╕Фр╣Йр╕▓р╕Щр╣Ар╕Чр╕Др╣Вр╕Щр╣Вр╕ер╕вр╕╡

-   **р╕Бр╕▓р╕гр╣Гр╕Кр╣Й AI р╕Вр╕▒р╣Йр╕Щр╕кр╕╣р╕З**

    -   OCR (Optical Character Recognition)
    -   Machine Learning
    -   Computer Vision
    -   Natural Language Processing

-   **р╕Др╕зр╕▓р╕бр╕вр╕╖р╕Фр╕лр╕вр╕╕р╣Ир╕Щр╣Гр╕Щр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ**
    -   р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕лр╕ер╕▓р╕Бр╕лр╕ер╕▓р╕вр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Ар╕нр╕Бр╕кр╕▓р╕г
    -   р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕Зр╕Хр╕▓р╕бр╕Др╕зр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г
    -   р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щр╣Ж р╣Др╕Фр╣Йр╕Зр╣Ир╕▓р╕в

## ЁЯОп р╕Бр╕ер╕╕р╣Ир╕бр╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕вр╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕вр╕╕р╕Бр╕Хр╣Мр╣Гр╕Кр╣Й

### 1. р╕ар╕▓р╕Др╕Шр╕╕р╕гр╕Бр╕┤р╕И

-   **р╕кр╕Цр╕▓р╕Ър╕▒р╕Щр╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щ**

    -   р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╣Гр╕Ър╕кр╕бр╕▒р╕Др╕г
    -   р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Чр╕▓р╕Зр╕Бр╕▓р╕гр╣Ар╕Зр╕┤р╕Щ
    -   р╕зр╕┤р╣Ар╕Др╕гр╕▓р╕░р╕лр╣Мр╕кр╕▒р╕Нр╕Нр╕▓

-   **р╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕Бр╕▒р╕Щр╕ар╕▒р╕в**

    -   р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╕Бр╕▓р╕гр╣Ар╕гр╕╡р╕вр╕Бр╕гр╣Йр╕нр╕Зр╕Др╣Ир╕▓р╕кр╕┤р╕Щр╣Др╕лр╕б
    -   р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕гр╕бр╕Шр╕гр╕гр╕бр╣М
    -   р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Ыр╕гр╕░р╕Бр╕нр╕Ъ

-   **р╕Бр╕▓р╕гр╕Др╣Йр╕▓р╣Бр╕ер╕░р╕Ър╕гр╕┤р╕Бр╕▓р╕г**
    -   р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Гр╕Ър╣Ар╕кр╕гр╣Зр╕И/р╣Гр╕Ър╕Бр╕│р╕Бр╕▒р╕Ър╕ар╕▓р╕йр╕╡
    -   р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
    -   р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Щр╕│р╣Ар╕Вр╣Йр╕▓-р╕кр╣Ир╕Зр╕нр╕нр╕Б

### 2. р╕ар╕▓р╕Др╕гр╕▒р╕Р

-   **р╕Бр╕▓р╕гр╕Ър╕гр╕┤р╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕Кр╕▓р╕Кр╕Щ**
    -   р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╣Бр╕Ър╕Ър╕Яр╕нр╕гр╣Мр╕бр╕гр╕▓р╕Кр╕Бр╕▓р╕г
    -   р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Ыр╕гр╕░р╕Ир╕│р╕Хр╕▒р╕з
    -   р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Др╕│р╕гр╣Йр╕нр╕Зр╕Хр╣Ир╕▓р╕Зр╣Ж

---

## ЁЯУЪ Technical Section

### 1. Prebuilt Models (р╣Вр╕бр╣Ар╕Фр╕ер╕кр╕│р╣Ар╕гр╣Зр╕Ир╕гр╕╣р╕Ы)

-   **prebuilt-read**: р╕нр╣Ир╕▓р╕Щ Text р╕нр╕вр╣Ир╕▓р╕Зр╣Ар╕Фр╕╡р╕вр╕з
-   **prebuilt-layout**: р╕нр╣Ир╕▓р╕Щ Text + Table
-   **prebuilt-document**: р╕нр╣Ир╕▓р╕Щр╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Чр╕▒р╣Ир╕зр╣Др╕Ы (р╣Ар╕Щр╣Йр╕Щ English Docs р╕Ир╕░р╣Бр╕бр╣Ир╕Щр╕вр╕│р╕бр╕▓р╕Бр╣Ж)

### 2. Custom Models (р╣Вр╕бр╣Ар╕Фр╕ер╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕нр╕З р╕бр╕╡р╕Др╣Ир╕▓ Custom Train)

-   р╕Эр╕╢р╕Бр╕Эр╕Щр╕Ир╕▓р╕Бр╣Ар╕нр╕Бр╕кр╕▓р╕гр╕Вр╕нр╕Зр╕Др╕╕р╕Ур╣Ар╕нр╕З
-   р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Ар╕Йр╕Юр╕▓р╕░р╕Шр╕╕р╕гр╕Бр╕┤р╕И
-   р╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕Зр╕Хр╕▓р╕бр╕Др╕зр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г

## ЁЯФз р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Бр╕ер╕░р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓

```bash
# р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З SDK
npm install @azure/ai-form-recognizer

# р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓ Environment Variables
FORM_RECOGNIZER_ENDPOINT=https://your-endpoint.cognitiveservices.azure.com/
FORM_RECOGNIZER_KEY=your-key
```

## ЁЯТб р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### 1. Use Read model

```javascript
from azure.core.credentials import AzureKeyCredential
from azure.ai.formrecognizer import DocumentAnalysisClient

endpoint = "YOUR_FORM_RECOGNIZER_ENDPOINT"
key = "YOUR_FORM_RECOGNIZER_KEY"

def format_bounding_box(bounding_box):
    if not bounding_box:
        return "N/A"
    return ", ".join(["[{}, {}]".format(p.x, p.y) for p in bounding_box])

def analyze_read():
    # sample document
    formUrl = "https://raw.githubusercontent.com/Azure-Samples/cognitive-services-REST-api-samples/master/curl/form-recognizer/sample-layout.pdf"

    document_analysis_client = DocumentAnalysisClient(
        endpoint=endpoint, credential=AzureKeyCredential(key)
    )

    poller = document_analysis_client.begin_analyze_document_from_url(
            "prebuilt-read", formUrl)
    result = poller.result()

    print ("Document contains content: ", result.content)

    for idx, style in enumerate(result.styles):
        print(
            "Document contains {} content".format(
                "handwritten" if style.is_handwritten else "no handwritten"
            )
        )

    for page in result.pages:
        print("----Analyzing Read from page #{}----".format(page.page_number))
        print(
            "Page has width: {} and height: {}, measured with unit: {}".format(
                page.width, page.height, page.unit
            )
        )

        for line_idx, line in enumerate(page.lines):
            print(
                "...Line # {} has text content '{}' within bounding box '{}'".format(
                    line_idx,
                    line.content,
                    format_bounding_box(line.polygon),
                )
            )

        for word in page.words:
            print(
                "...Word '{}' has a confidence of {}".format(
                    word.content, word.confidence
                )
            )

    print("----------------------------------------")


if __name__ == "__main__":
    analyze_read()

```

### 2. Use layout model

```javascript

from azure.core.credentials import AzureKeyCredential
from azure.ai.formrecognizer import DocumentAnalysisClient

endpoint = "YOUR_FORM_RECOGNIZER_ENDPOINT"
key = "YOUR_FORM_RECOGNIZER_KEY"

# sample document
formUrl = "https://raw.githubusercontent.com/Azure-Samples/cognitive-services-REST-api-samples/master/curl/form-recognizer/sample-layout.pdf"

document_analysis_client = DocumentAnalysisClient(
    endpoint=endpoint, credential=AzureKeyCredential(key)
)

poller = document_analysis_client.begin_analyze_document_from_url("prebuilt-layout", formUrl)
result = poller.result()

for idx, style in enumerate(result.styles):
    print(
        "Document contains {} content".format(
         "handwritten" if style.is_handwritten else "no handwritten"
        )
    )

for page in result.pages:
    for line_idx, line in enumerate(page.lines):
        print(
         "...Line # {} has text content '{}'".format(
        line_idx,
        line.content.encode("utf-8")
        )
    )

    for selection_mark in page.selection_marks:
        print(
         "...Selection mark is '{}' and has a confidence of {}".format(
         selection_mark.state,
         selection_mark.confidence
         )
    )

for table_idx, table in enumerate(result.tables):
    print(
        "Table # {} has {} rows and {} columns".format(
        table_idx, table.row_count, table.column_count
        )
    )

    for cell in table.cells:
        print(
            "...Cell[{}][{}] has content '{}'".format(
            cell.row_index,
            cell.column_index,
            cell.content.encode("utf-8"),
            )
        )

print("----------------------------------------")

```

## ЁЯЪА р╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓р╕Хр╣Ир╕нр╕вр╕нр╕Ф

1. **р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕зр╕▓р╕бр╣Бр╕бр╣Ир╕Щр╕вр╕│**

    - р╕Эр╕╢р╕Бр╕Эр╕Щр╕Фр╣Йр╕зр╕вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б
    - р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╕Бр╕▓р╕гр╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╕ар╕▓р╕Ю
    - р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ

2. **р╕Вр╕вр╕▓р╕вр╕Др╕зр╕▓р╕бр╕кр╕▓р╕бр╕▓р╕гр╕Ц**

    - р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕ар╕▓р╕йр╕▓р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б
    - р╣Ар╕Юр╕┤р╣Ир╕бр╕Ыр╕гр╕░р╣Ар╕ар╕Чр╣Ар╕нр╕Бр╕кр╕▓р╕г
    - р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ър╕нр╕╖р╣Ир╕Щ

3. **р╣Ар╕Юр╕┤р╣Ир╕бр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Ю**
    - р╕Чр╕│р╕Зр╕▓р╕Щр╣Бр╕Ър╕Ъ Batch
    - р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╣Бр╕Ър╕Ър╕Вр╕Щр╕▓р╕Щ
    - р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕зр╕▓р╕бр╣Ар╕гр╣Зр╕з

---

## ЁЯОп р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╣Гр╕лр╕бр╣Ир╕Чр╕╡р╣Ир╕Хр╣Ир╕нр╕вр╕нр╕Фр╕Ир╕▓р╕Бр╣Вр╕Ыр╕гр╣Ар╕Ир╕Др╣Ар╕Фр╕┤р╕б

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ

1. р╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕Цр╣Ир╕▓р╕вр╕гр╕╣р╕Ыр╕нр╕нр╣Ар╕Фр╕нр╕гр╣Мр╕Чр╕╡р╣Ир╣Ар╕Вр╕╡р╕вр╕Щр╕Фр╣Йр╕зр╕вр╕бр╕╖р╕н
2. р╕нр╕▒р╕Юр╣Вр╕лр╕ер╕Фр╕Ьр╣Ир╕▓р╕Щ Line OA
3. Form Recognizer р╕Ыр╕гр╕░р╕бр╕зр╕ер╕Ьр╕ер╕гр╕╣р╕Ыр╕ар╕▓р╕Ю
4. р╕гр╕░р╕Ър╕Ър╣Ар╕Юр╕┤р╣Ир╕бр╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Гр╕Щр╕Хр╕░р╕Бр╕гр╣Йр╕▓
5. р╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щр╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕нр╕нр╣Ар╕Фр╕нр╕гр╣М
6. р╕кр╣Ир╕Зр╕нр╕нр╣Ар╕Фр╕нр╕гр╣Мр╣Др╕Ыр╕вр╕▒р╕Зр╕Др╕гр╕▒р╕з

---

## ЁЯЫая╕П р╕Бр╕▓р╕гр╕Юр╕▒р╕Тр╕Щр╕▓р╕Чр╕▓р╕Зр╣Ар╕Чр╕Др╕Щр╕┤р╕Д

### ЁЯзФтАНтЩВя╕П р╣Бр╕Ьр╕Щр╕ар╕▓р╕Юр╕ер╕│р╕Фр╕▒р╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ

```mermaid
sequenceDiagram
    participant C as р╕ер╕╣р╕Бр╕Др╣Йр╕▓
    participant L as Line Bot
    participant W as Webhook
    participant K as р╕гр╕░р╕Ър╕Ър╕Др╕гр╕▒р╕з
    participant D as Database
    participant KG as р╕лр╣Йр╕нр╕Зр╕Др╕гр╕▒р╕з (Line Group)

    C->>L: р╕кр╕▒р╣Ир╕Зр╕нр╕▓р╕лр╕▓р╕г
    L->>W: р╕кр╣Ир╕Зр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
    W->>D: р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕нр╕нр╣Ар╕Фр╕нр╕гр╣М
    W->>K: р╕кр╕гр╣Йр╕▓р╕З Flex Message
    K->>KG: р╕кр╣Ир╕Зр╣Бр╕Ир╣Йр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕нр╕нр╣Ар╕Фр╕нр╕гр╣Мр╣Гр╕лр╕бр╣И

    KG->>L: р╕Хр╕нр╕Ър╕гр╕▒р╕Ъ/р╕Ыр╕Пр╕┤р╣Ар╕кр╕Шр╕нр╕нр╣Ар╕Фр╕нр╕гр╣М
    L->>W: р╕кр╣Ир╕Зр╕Бр╕▓р╕гр╕Хр╕нр╕Ър╕Бр╕ер╕▒р╕Ъ
    W->>D: р╕нр╕▒р╕Юр╣Ар╕Фр╕Чр╕кр╕Цр╕▓р╕Щр╕░
    W->>L: р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕Ир╣Йр╕Зр╕ер╕╣р╕Бр╕Др╣Йр╕▓
    L->>C: р╣Бр╕Ир╣Йр╕Зр╕кр╕Цр╕▓р╕Щр╕░р╕нр╕нр╣Ар╕Фр╕нр╕гр╣М
```
